<!doctype  html>
<html lang="en" ng-app="buaychiaApp">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Singapore Car Ownership Annual Cost Calculator :: Buay Chia</title>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular.min.js"></script>
    <script src="controllers.js"></script>
</head>

<body ng-controller="ChiaCtrl">

    <a href="https://github.com/uzyn/buaychia"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>

    <h1>Buay Chia</h1>

    <p>Only valid if the chia you want to buay:</p>
    <ul>
        <li>is a Singapore-registered chia,</li>
        <li>is a PARF chia,</li>
        <li>is a petrol chia,</li>
        <li>is a less-than-10-year-old chia.</li>
    </ul>

    <h2>Enter stats</h2>
    <p>Need actual numbers? Go to sgcarmart.com</p>

    <table>
        <tr ng-repeat="stat in stats">
            <th>{{stat.label}}</th>
            <td>{{stat.pre}} <input type="{{stat.type}}" ng-model="data[stat.model]"> {{stat.post}}</td>
        </tr>
    </table>

    <h2>Moment of truth</h2>

    <table>
        <tr>
            <th>ARF</td>
            <td>{{arf() | currency}}</td>
        </tr>
        <tr>
            <th>Road tax</td>
            <td>{{roadTax() | currency}} / year</td>
        </tr>
        <tr>
            <th>Age at purchase</td>
            <td>{{ageAtPurchase()}} months</td>
        </tr>
    </table>

    <h3>Monthly and annual costs</h3>
    <p>Depending when you are deregistering off your chia</p>

    <table>
        <tr>
            <th colspan="2">Month of</th>
            <th>&nbsp;</th>
            <th>&nbsp;</th>
            <th colspan="3">Paid</th>
            <th colspan="3">Rebate</th>
            <th colspan="3">Cost</th>

        </tr>

        <tr>
            <th colspan="2">Deregistration</th>
            <th>Age</th>
            <th>Owned</th>

            <th>Car</th>
            <th>Road tax</th>
            <th>Total</th>

            <th>COE</th>
            <th>ARF</th>
            <th>Total</th>

            <th>Nett</th>
            <th>Annual</th>
            <th>Monthly</th>
        </tr>

        <tr ng-repeat="month in months()">
            <td>{{month.time | date:'MMMM'}}</td>
            <td>{{month.time | date:'yyyy'}}</td>
            <td>{{month.ageMonth}} months</td>
            <td>{{month.ownedMonth}} months</td>
            <td>{{data.price | currency}}</td>
            <td>{{month.roadTax | currency}}</td>
            <td>{{data.price + month.roadTax | currency}}</td>
            <td>{{month.coeRebate | currency}}</td>
            <td>{{month.arfRebate | currency}}</td>
            <td>{{month.coeRebate + month.arfRebate | currency}}</td>
            <td>{{data.price + month.roadTax - month.coeRebate - month.arfRebate | currency}}</td>
            <td>{{(data.price + month.roadTax - month.coeRebate - month.arfRebate) / month.ownedMonth * 12| currency}}</td>
            <td>{{(data.price + month.roadTax - month.coeRebate - month.arfRebate) / month.ownedMonth | currency}}</td>
        </tr>
    </table>

</body>
</html>
